{"uid":"3d35a94681e82035","name":"Validate Council Output -- @1.14 Testing : SouthTynesideCouncil","fullName":"Test each council output matches expected results in /outputs: Validate Council Output","historyId":"64416938c3ba684b88b72501016c8ad9","time":{"start":1667441540747,"stop":1667441543708,"duration":2961},"status":"broken","statusMessage":"KeyError: 'result'\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"uk_bin_collection/tests/features/steps/validate_council.py\", line 36, in step_impl\n    context.parse_result = collect_data.main(args)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 57, in main\n    return client_code(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 23, in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/get_bin_data.py\", line 53, in template_method\n    bin_data_dict = self.parse_data(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/SouthTynesideCouncil.py\", line 75, in parse_data\n    uprn = get_address_uprn(user_postcode, user_paon, api_url)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/SouthTynesideCouncil.py\", line 31, in get_address_uprn\n    results = json_response[\"result\"]\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"KeyError: 'result'\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"uk_bin_collection/tests/features/steps/validate_council.py\", line 36, in step_impl\n    context.parse_result = collect_data.main(args)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 57, in main\n    return client_code(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 23, in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/get_bin_data.py\", line 53, in template_method\n    bin_data_dict = self.parse_data(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/SouthTynesideCouncil.py\", line 75, in parse_data\n    uprn = get_address_uprn(user_postcode, user_paon, api_url)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/SouthTynesideCouncil.py\", line 31, in get_address_uprn\n    results = json_response[\"result\"]\n","steps":[{"name":"Given the council: \"SouthTynesideCouncil\"","time":{"start":1667441540748,"stop":1667441540748,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"When we scrape the data from \"SouthTynesideCouncil\"","time":{"start":1667441540748,"stop":1667441543707,"duration":2959},"status":"broken","statusMessage":"KeyError: 'result'\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"uk_bin_collection/tests/features/steps/validate_council.py\", line 36, in step_impl\n    context.parse_result = collect_data.main(args)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 57, in main\n    return client_code(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 23, in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/get_bin_data.py\", line 53, in template_method\n    bin_data_dict = self.parse_data(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/SouthTynesideCouncil.py\", line 75, in parse_data\n    uprn = get_address_uprn(user_postcode, user_paon, api_url)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/SouthTynesideCouncil.py\", line 31, in get_address_uprn\n    results = json_response[\"result\"]\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true},{"name":"Then the result is valid json","time":{"start":1667441543708,"stop":1667441543708,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And the output should validate against the schema","time":{"start":1667441543708,"stop":1667441543708,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"feature","value":"Test each council output matches expected results in /outputs"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"council","value":"SouthTynesideCouncil"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":35,"skipped":0,"passed":0,"unknown":0,"total":35},"items":[{"uid":"a4790249ab0f8b55","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/251//#testresult/a4790249ab0f8b55","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1667356153254,"stop":1667356154768,"duration":1514}},{"uid":"bcc731aa68857cf","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/250//#testresult/bcc731aa68857cf","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1667270421554,"stop":1667270423354,"duration":1800}},{"uid":"92f811685bcb7f12","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/249//#testresult/92f811685bcb7f12","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1667183672893,"stop":1667183675562,"duration":2669}},{"uid":"d812c47114cb742a","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/248//#testresult/d812c47114cb742a","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1667097266521,"stop":1667097268233,"duration":1712}},{"uid":"becfdb02b78e6683","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/247//#testresult/becfdb02b78e6683","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1667009459833,"stop":1667009461571,"duration":1738}},{"uid":"d4589ea0122adba4","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/245//#testresult/d4589ea0122adba4","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1666836953318,"stop":1666836954840,"duration":1522}},{"uid":"a280682fcb76f1e7","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/244//#testresult/a280682fcb76f1e7","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1666751130000,"stop":1666751132561,"duration":2561}},{"uid":"9ffa0fd9e8d24957","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/243//#testresult/9ffa0fd9e8d24957","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1666682477681,"stop":1666682480278,"duration":2597}},{"uid":"9f2df698a2a817a7","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/242//#testresult/9f2df698a2a817a7","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1666665956924,"stop":1666665958659,"duration":1735}},{"uid":"db8d49d66fb2a41e","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/240//#testresult/db8d49d66fb2a41e","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1666579957848,"stop":1666579960048,"duration":2200}},{"uid":"3e45b9f07cb2ddd","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/239//#testresult/3e45b9f07cb2ddd","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1666492828808,"stop":1666492830860,"duration":2052}},{"uid":"72574e692613e7cf","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/238//#testresult/72574e692613e7cf","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1666405846146,"stop":1666405848706,"duration":2560}},{"uid":"5d66054087ae3b44","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/237//#testresult/5d66054087ae3b44","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1666318356424,"stop":1666318358974,"duration":2550}},{"uid":"d022b67798e95d06","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/236//#testresult/d022b67798e95d06","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1666233630629,"stop":1666233632512,"duration":1883}},{"uid":"80af5326d0eb50f4","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/235//#testresult/80af5326d0eb50f4","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1666147130572,"stop":1666147132309,"duration":1737}},{"uid":"9695ba5a6087f883","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/234//#testresult/9695ba5a6087f883","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1666060971820,"stop":1666060973442,"duration":1622}},{"uid":"340bb0c07f82f0ae","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/233//#testresult/340bb0c07f82f0ae","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1665975274277,"stop":1665975277055,"duration":2778}},{"uid":"52bbe82a1f06461f","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/232//#testresult/52bbe82a1f06461f","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1665888586191,"stop":1665888588426,"duration":2235}},{"uid":"59e35faa3e344c34","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/231//#testresult/59e35faa3e344c34","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1665801965459,"stop":1665801968283,"duration":2824}},{"uid":"5a03376902ec9440","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/230//#testresult/5a03376902ec9440","status":"broken","statusDetails":"KeyError: 'result'\n","time":{"start":1665715793786,"stop":1665715795968,"duration":2182}}]},"tags":[]},"source":"3d35a94681e82035.json","parameterValues":["SouthTynesideCouncil"]}